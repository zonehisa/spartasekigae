# スパルタキャンプ席替えアプリ仕様書

## 概要
このアプリケーションは、スパルタキャンプの15名の参加者のための席替えを自動で行うWebアプリケーションです。
5×5のグリッド状の座席配置で、特定の位置に空席を設定できます。

## 機能要件

### 1. 基本機能
- 1~15名の参加者の席をランダムに配置
- 前回の配置と比較して、以下の制約を満たす配置を生成：
  1. 同じ席に同じ人が座らない
  2. 同じテーブルに3人以上の同じメンバーが重複しない
- 5×5のグリッドで、予め定められた位置に空席を設定
- Webインターフェースによる操作

### 2. 参加者管理
- 参加者リストの表示
- 参加者リストの更新
- 参加者名の重複チェック
- 空の参加者名のバリデーション

### 3. 席替え機能
- ボタン1クリックで席替えを実行
- 最大200回まで有効な配置を試行
- 有効な配置が見つからない場合はエラーメッセージを表示

### 4. 履歴管理
- 最新10件の座席履歴を保存
- 履歴の表示（日時と配置）
- 履歴のクリア機能
- クリア前の確認ダイアログ表示

## 技術仕様

### 使用技術
- バックエンド: Python (Flask)
- フロントエンド: HTML, JavaScript
- データ形式: JSON

### システム要件
- Python 3.x
- 必要なPythonパッケージ:
  - Flask
  - その他requirements.txtに記載のパッケージ

### データ構造
- 座席レイアウト: 25席（5×5）の配列
- 参加者データ: 15名の名前リスト
- テーブル構成: 5テーブル（各テーブルは5席で構成）
- 履歴データ: 日時と座席配置の配列（最大10件）

## 制約条件
1. 参加者数は1~15名を維持
2. 同じ席に同じ人が座ることはできない
3. 同じテーブルに前回と3人以上同じメンバーが重複してはならない
4. 空席の位置は固定
5. 参加者名は一意である必要がある
6. 参加者名は空文字列であってはならない

## エラー処理
- 参加者名が重複している場合はエラー
- 有効な席配置が見つからない場合はエラー
- 履歴操作に失敗した場合はエラー

## 使用方法
1. Webブラウザでアプリケーションにアクセス
2. 必要に応じて参加者リストを更新
3. 「席替え」ボタンをクリックして新しい配置を生成
4. 配置結果を画面で確認
5. 必要に応じて履歴を確認・管理
